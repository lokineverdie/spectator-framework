<?xml version="1.0" encoding="UTF-8"?>
<context-management>
  <metadata>
    <context-name>{CONTEXT_NAME}</context-name>
    <module-name>{MODULE_NAME}</module-name>
    <version>{VERSION}</version>
    <description>{CONTEXT_DESCRIPTION}</description>
  </metadata>

  <state-management>
    <session-state>
      <state-variables>
        <variable name="{SESSION_VAR_1}" type="{VAR_TYPE_1}" persistence="{PERSISTENCE_1}">
          <description>{VAR_1_DESCRIPTION}</description>
          <default-value>{VAR_1_DEFAULT}</default-value>
          <validation-rules>
            <rule>{VAR_1_RULE_1}</rule>
            <rule>{VAR_1_RULE_2}</rule>
          </validation-rules>
          <lifecycle>
            <initialization>{VAR_1_INIT}</initialization>
            <update-triggers>
              <trigger>{VAR_1_TRIGGER_1}</trigger>
              <trigger>{VAR_1_TRIGGER_2}</trigger>
            </update-triggers>
            <cleanup>{VAR_1_CLEANUP}</cleanup>
          </lifecycle>
        </variable>

        <variable name="{SESSION_VAR_2}" type="{VAR_TYPE_2}" persistence="{PERSISTENCE_2}">
          <description>{VAR_2_DESCRIPTION}</description>
          <default-value>{VAR_2_DEFAULT}</default-value>
          <validation-rules>
            <rule>{VAR_2_RULE_1}</rule>
          </validation-rules>
          <lifecycle>
            <initialization>{VAR_2_INIT}</initialization>
            <update-triggers>
              <trigger>{VAR_2_TRIGGER_1}</trigger>
            </update-triggers>
            <cleanup>{VAR_2_CLEANUP}</cleanup>
          </lifecycle>
        </variable>

        <variable name="{SESSION_VAR_3}" type="{VAR_TYPE_3}" persistence="{PERSISTENCE_3}">
          <description>{VAR_3_DESCRIPTION}</description>
          <default-value>{VAR_3_DEFAULT}</default-value>
          <validation-rules>
            <rule>{VAR_3_RULE_1}</rule>
            <rule>{VAR_3_RULE_2}</rule>
            <rule>{VAR_3_RULE_3}</rule>
          </validation-rules>
          <lifecycle>
            <initialization>{VAR_3_INIT}</initialization>
            <update-triggers>
              <trigger>{VAR_3_TRIGGER_1}</trigger>
            </update-triggers>
            <cleanup>{VAR_3_CLEANUP}</cleanup>
          </lifecycle>
        </variable>
      </state-variables>

      <state-transitions>
        <transition from="{FROM_STATE_1}" to="{TO_STATE_1}">
          <trigger>{TRANSITION_1_TRIGGER}</trigger>
          <conditions>
            <condition>{TRANSITION_1_CONDITION_1}</condition>
            <condition>{TRANSITION_1_CONDITION_2}</condition>
          </conditions>
          <state-changes>
            <change variable="{CHANGE_VAR_1}" action="{CHANGE_ACTION_1}"/>
            <change variable="{CHANGE_VAR_2}" action="{CHANGE_ACTION_2}"/>
          </state-changes>
        </transition>

        <transition from="{FROM_STATE_2}" to="{TO_STATE_2}">
          <trigger>{TRANSITION_2_TRIGGER}</trigger>
          <conditions>
            <condition>{TRANSITION_2_CONDITION_1}</condition>
          </conditions>
          <state-changes>
            <change variable="{CHANGE_VAR_1}" action="{CHANGE_ACTION_3}"/>
          </state-changes>
        </transition>
      </state-transitions>
    </session-state>

    <global-state>
      <shared-variables>
        <variable name="{GLOBAL_VAR_1}" type="{GLOBAL_TYPE_1}" scope="{GLOBAL_SCOPE_1}">
          <description>{GLOBAL_1_DESCRIPTION}</description>
          <access-control>
            <read-permissions>{GLOBAL_1_READ_PERMS}</read-permissions>
            <write-permissions>{GLOBAL_1_WRITE_PERMS}</write-permissions>
          </access-control>
          <synchronization>{GLOBAL_1_SYNC}</synchronization>
        </variable>

        <variable name="{GLOBAL_VAR_2}" type="{GLOBAL_TYPE_2}" scope="{GLOBAL_SCOPE_2}">
          <description>{GLOBAL_2_DESCRIPTION}</description>
          <access-control>
            <read-permissions>{GLOBAL_2_READ_PERMS}</read-permissions>
            <write-permissions>{GLOBAL_2_WRITE_PERMS}</write-permissions>
          </access-control>
          <synchronization>{GLOBAL_2_SYNC}</synchronization>
        </variable>
      </shared-variables>

      <state-synchronization>
        <sync-mechanism name="{SYNC_MECHANISM_1}">
          <protocol>{SYNC_1_PROTOCOL}</protocol>
          <frequency>{SYNC_1_FREQUENCY}</frequency>
          <conflict-resolution>{SYNC_1_CONFLICT_RESOLUTION}</conflict-resolution>
        </sync-mechanism>

        <sync-mechanism name="{SYNC_MECHANISM_2}">
          <protocol>{SYNC_2_PROTOCOL}</protocol>
          <frequency>{SYNC_2_FREQUENCY}</frequency>
          <conflict-resolution>{SYNC_2_CONFLICT_RESOLUTION}</conflict-resolution>
        </sync-mechanism>
      </state-synchronization>
    </global-state>
  </state-management>

  <memory-management>
    <conversation-history>
      <retention-policy>
        <max-entries>{MAX_HISTORY_ENTRIES}</max-entries>
        <time-limit>{HISTORY_TIME_LIMIT}</time-limit>
        <size-limit>{HISTORY_SIZE_LIMIT}</size-limit>
      </retention-policy>

      <prioritization>
        <priority-rules>
          <rule type="{PRIORITY_RULE_TYPE_1}" weight="{PRIORITY_WEIGHT_1}">
            <criteria>{PRIORITY_CRITERIA_1}</criteria>
          </rule>
          <rule type="{PRIORITY_RULE_TYPE_2}" weight="{PRIORITY_WEIGHT_2}">
            <criteria>{PRIORITY_CRITERIA_2}</criteria>
          </rule>
          <rule type="{PRIORITY_RULE_TYPE_3}" weight="{PRIORITY_WEIGHT_3}">
            <criteria>{PRIORITY_CRITERIA_3}</criteria>
          </rule>
        </priority-rules>
      </prioritization>

      <compression>
        <strategy>{COMPRESSION_STRATEGY}</strategy>
        <trigger-conditions>
          <condition>{COMPRESSION_TRIGGER_1}</condition>
          <condition>{COMPRESSION_TRIGGER_2}</condition>
        </trigger-conditions>
        <preservation-rules>
          <rule>{PRESERVATION_RULE_1}</rule>
          <rule>{PRESERVATION_RULE_2}</rule>
        </preservation-rules>
      </compression>
    </conversation-history>

    <working-memory>
      <active-context>
        <context-window-size>{CONTEXT_WINDOW_SIZE}</context-window-size>
        <refresh-strategy>{REFRESH_STRATEGY}</refresh-strategy>
        <context-elements>
          <element name="{CONTEXT_ELEMENT_1}" priority="{ELEMENT_PRIORITY_1}"/>
          <element name="{CONTEXT_ELEMENT_2}" priority="{ELEMENT_PRIORITY_2}"/>
          <element name="{CONTEXT_ELEMENT_3}" priority="{ELEMENT_PRIORITY_3}"/>
        </context-elements>
      </active-context>

      <cache-management>
        <cache-policies>
          <policy name="{CACHE_POLICY_1}">
            <cache-type>{CACHE_TYPE_1}</cache-type>
            <eviction-strategy>{EVICTION_STRATEGY_1}</eviction-strategy>
            <ttl>{CACHE_TTL_1}</ttl>
          </policy>
          <policy name="{CACHE_POLICY_2}">
            <cache-type>{CACHE_TYPE_2}</cache-type>
            <eviction-strategy>{EVICTION_STRATEGY_2}</eviction-strategy>
            <ttl>{CACHE_TTL_2}</ttl>
          </policy>
        </cache-policies>
      </cache-management>
    </working-memory>
  </memory-management>

  <data-integration>
    <external-data-sources>
      <data-source name="{DATA_SOURCE_1}">
        <connection-config>
          <endpoint>{DATA_SOURCE_1_ENDPOINT}</endpoint>
          <authentication>{DATA_SOURCE_1_AUTH}</authentication>
          <timeout>{DATA_SOURCE_1_TIMEOUT}</timeout>
        </connection-config>
        <data-mapping>
          <field source="{SOURCE_FIELD_1}" target="{TARGET_FIELD_1}" transform="{TRANSFORM_1}"/>
          <field source="{SOURCE_FIELD_2}" target="{TARGET_FIELD_2}" transform="{TRANSFORM_2}"/>
        </data-mapping>
        <refresh-policy>
          <frequency>{REFRESH_FREQUENCY_1}</frequency>
          <triggers>
            <trigger>{REFRESH_TRIGGER_1}</trigger>
            <trigger>{REFRESH_TRIGGER_2}</trigger>
          </triggers>
        </refresh-policy>
      </data-source>

      <data-source name="{DATA_SOURCE_2}">
        <connection-config>
          <endpoint>{DATA_SOURCE_2_ENDPOINT}</endpoint>
          <authentication>{DATA_SOURCE_2_AUTH}</authentication>
          <timeout>{DATA_SOURCE_2_TIMEOUT}</timeout>
        </connection-config>
        <data-mapping>
          <field source="{SOURCE_FIELD_3}" target="{TARGET_FIELD_3}" transform="{TRANSFORM_3}"/>
        </data-mapping>
        <refresh-policy>
          <frequency>{REFRESH_FREQUENCY_2}</frequency>
          <triggers>
            <trigger>{REFRESH_TRIGGER_3}</trigger>
          </triggers>
        </refresh-policy>
      </data-source>
    </external-data-sources>

    <data-transformation>
      <transformation-rules>
        <rule name="{TRANSFORM_RULE_1}">
          <input-format>{TRANSFORM_INPUT_1}</input-format>
          <output-format>{TRANSFORM_OUTPUT_1}</output-format>
          <transformation-logic>{TRANSFORM_LOGIC_1}</transformation-logic>
        </rule>

        <rule name="{TRANSFORM_RULE_2}">
          <input-format>{TRANSFORM_INPUT_2}</input-format>
          <output-format>{TRANSFORM_OUTPUT_2}</output-format>
          <transformation-logic>{TRANSFORM_LOGIC_2}</transformation-logic>
        </rule>
      </transformation-rules>
    </data-transformation>
  </data-integration>

  <context-sharing>
    <inter-agent-communication>
      <communication-protocols>
        <protocol name="{COMM_PROTOCOL_1}">
          <message-format>{MESSAGE_FORMAT_1}</message-format>
          <delivery-guarantee>{DELIVERY_GUARANTEE_1}</delivery-guarantee>
          <encryption>{ENCRYPTION_1}</encryption>
        </protocol>

        <protocol name="{COMM_PROTOCOL_2}">
          <message-format>{MESSAGE_FORMAT_2}</message-format>
          <delivery-guarantee>{DELIVERY_GUARANTEE_2}</delivery-guarantee>
          <encryption>{ENCRYPTION_2}</encryption>
        </protocol>
      </communication-protocols>

      <context-propagation>
        <propagation-rules>
          <rule context="{CONTEXT_TYPE_1}" scope="{PROPAGATION_SCOPE_1}"/>
          <rule context="{CONTEXT_TYPE_2}" scope="{PROPAGATION_SCOPE_2}"/>
          <rule context="{CONTEXT_TYPE_3}" scope="{PROPAGATION_SCOPE_3}"/>
        </propagation-rules>
      </context-propagation>
    </inter-agent-communication>

    <context-persistence>
      <storage-backends>
        <backend name="{STORAGE_BACKEND_1}">
          <type>{BACKEND_TYPE_1}</type>
          <configuration>{BACKEND_CONFIG_1}</configuration>
          <retention-policy>{BACKEND_RETENTION_1}</retention-policy>
        </backend>

        <backend name="{STORAGE_BACKEND_2}">
          <type>{BACKEND_TYPE_2}</type>
          <configuration>{BACKEND_CONFIG_2}</configuration>
          <retention-policy>{BACKEND_RETENTION_2}</retention-policy>
        </backend>
      </storage-backends>
    </context-persistence>
  </context-sharing>
</context-management>